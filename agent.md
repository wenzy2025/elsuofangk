# Agent.md

## 🎮 项目概述
使用 **CodeX** 开发一个炫酷的网页版俄罗斯方块（Tetris）游戏，强调视觉效果（霓虹、粒子、着色器）和流畅交互体验。支持桌面端与移动端，适合展示在个人作品集或教学演示。

---

## 🥅 项目目标
- 实现完整的俄罗斯方块玩法（旋转、下落、消行、计分）。
- 融合现代前端技术（Canvas / WebGL / React）。
- 设计炫酷的视觉特效（霓虹光效、消行爆炸、动态背景）。
- 支持响应式布局与移动端触控操作。
- 可扩展性：后续加入排行榜、多人模式。

---

## 📦 范围与非范围
**范围内**
- 单人模式的俄罗斯方块核心逻辑。
- 游戏界面（开始页、游戏主界面、暂停/结束页）。
- 动画与特效。
- 分数与速度递增机制。

**非范围**
- 多人联网对战（第一阶段不实现）。
- AI 自动下棋模式。

---

## 📑 交付物
- `index.html` 游戏入口。
- `main.js` 游戏主逻辑。
- `game.css` 炫酷样式（含霓虹主题）。
- 音效文件（背景音乐、消行音效、Game Over）。
- 部署指南（Netlify / Vercel / GitHub Pages）。

---

## 🛠️ 技术栈
- **前端框架**：React + Vite（或纯原生JS）。
- **渲染方式**：Canvas 2D / WebGL。
- **语言**：TypeScript。
- **音频**：Web Audio API。
- **构建与部署**：Vite + GitHub Actions。

---

## 🧩 架构设计
- **Game Loop**：requestAnimationFrame 实现渲染与逻辑更新。
- **模块划分**：
  - `core/`：方块数据结构与逻辑（旋转、下落、碰撞）。
  - `ui/`：Canvas 渲染层。
  - `effects/`：粒子、光效特效。
  - `audio/`：音效控制。
  - `state/`：游戏状态机。

---

## 🎨 游戏设计
- **界面**：
  - 首页：炫酷LOGO + 开始按钮。
  - 主界面：
    - 左侧：游戏画布（网格 + 方块）。
    - 右侧：分数、等级、下一个方块。
  - 暂停/结束界面：动态过渡动画。

- **控制方式**：
  - PC：方向键（← → ↓）、空格键（硬下落）、Z/X（旋转）。
  - 移动端：虚拟按键（左右、旋转、下落）。

- **规则**：
  - 每消一行：+100分。
  - 连续消行：加倍奖励。
  - 随等级提升，下落速度加快。

- **特效**：
  - 霓虹边框。
  - 消行时爆裂粒子效果。
  - 背景随等级渐变。

---

## 🔊 声音设计
- 背景音乐（循环播放，电子合成风）。
- 消行音效（轻快）。
- 旋转/移动音效。
- Game Over 音效（低沉）。

---

## 📱 响应式设计
- 桌面端：横屏完整界面。
- 移动端：自适应缩放，虚拟按键浮动在画布下方。

---

## ♿ 可访问性
- 高对比度模式。
- 声音开关。
- 简单的键盘映射自定义。

---

## ⚡ 性能优化
- Canvas 离屏渲染减少重绘。
- 粒子特效批处理。
- 懒加载音频资源。

---

## 🌐 部署计划
- GitHub Pages 提供预览。
- Vercel / Netlify 部署正式版本。
- CI/CD 自动构建发布。

---

## 📌 后续扩展
- 排行榜（本地存储 + Firebase）。
- 联网对战（WebSocket / WebRTC）。
- AI 对战（使用简单启发式或强化学习）。

